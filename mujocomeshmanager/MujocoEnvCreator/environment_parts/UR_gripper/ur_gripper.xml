<mujoco model="ur_gripper">
    <compiler convexhull="true" angle="radian" meshdir="environment_parts/" />
    <default class="2f85">
        <mesh scale="0.001 0.001 0.001"/>
        <general biastype="affine"/>
        <joint axis="1 0 0"/>
        <default class="visual2">
            <geom type="mesh" contype="0" conaffinity="0" group="2" material="gray2"/>
        </default>

        <default class="driver">
            <joint range="0 0.8" armature="0.005" damping="0.1" solimplimit="0.95 0.99 0.001" solreflimit="0.005 1"/>
        </default>

        <default class="follower">
            <joint range="-0.872664 0.872664" pos="0 -0.018 0.0065" solimplimit="0.95 0.99 0.001" solreflimit="0.005 1"/>
        </default>

        <default class="spring_link">
            <joint range="-0.29670597283 0.8" stiffness="0.05" springref="2.62" damping="0.00125"/>
        </default>

        <default class="coupler">
            <joint range="-1.57 0" solimplimit="0.95 0.99 0.001" solreflimit="0.005 1"/>
        </default>

        <default class="collision2">
            <geom type="box" group="3" rgba="1 0.423529 0.0392157 1" condim="3"/>
            <default class="pad_box1">
                <geom mass="0" type="box" pos="0 -0.0026 0.028125" size="0.011 0.004 0.009375" friction="0.7"
                      solimp="0.95 0.99 0.001" solref="0.004 1" priority="1" rgba="0.55 0.55 0.55 1"/>
            </default>
            <default class="pad_box2">
                <geom mass="0" type="box" pos="0 -0.0026 0.009375" size="0.011 0.004 0.009375" friction="0.6"
                      solimp="0.95 0.99 0.001" solref="0.004 1" priority="1" rgba="0.45 0.45 0.45 1"/>
            </default>
        </default>
    </default>


    <asset>
        <material name="black2" rgba="0.149 0.149 0.149 1"/>
        <material name="wood2" rgba="0.56 0.37 0.29 1"/>
        <material name="gray2" rgba="0.4 0.4 0.4 1"/>
        <mesh class="2f85" file="UR_gripper/assets_gripper/base_mount.stl"/>
        <mesh class="2f85" file="UR_gripper/assets_gripper/base.stl"/>
        <mesh class="2f85" file="UR_gripper/assets_gripper/driver.stl"/>
        <mesh class="2f85" file="UR_gripper/assets_gripper/coupler.stl"/>
        <mesh class="2f85" file="UR_gripper/assets_gripper/follower.stl"/>
        <mesh class="2f85" file="UR_gripper/assets_gripper/pad.stl"/>
        <mesh class="2f85" file="UR_gripper/assets_gripper/silicone_pad.stl"/>
        <mesh class="2f85" file="UR_gripper/assets_gripper/spring_link.stl"/>
    </asset>
  <worldbody>
        <!--light pos="0 0 1.5" dir="0 0 -1" directional="true"/-->
        <!--geom name="ground" type="plane" size="0 0 1" pos="0 0 0" quat="1 0 0 0"  contype="0" group="0" /-->
        <body name="base_mount" pos="0 0 0.0" childclass="2f85">
              <inertial pos="0.0 0.0 0.0" quat="1 0 0 0" mass="0.0" diaginertia="0.0 0.0 0.0"/>
              <geom class="visual2" mesh="base_mount" material="black2"/>
              <geom name="col_mount" type="cylinder" pos="0 0 0.016" size="0.04 0.0225" group="3" contype="1" conaffinity="1" rgba="1 0.423529 0.0392157 1"/>
              <body name="base" pos="0 0 0.0038" >
                <body name="gripping_point" pos="0 0 0.13">
                  <site name="gripping_point" pos="0 0 0"/>
                </body>
                <inertial mass="0.777441" pos="0 -2.70394e-05 0.0354675" quat="1 -0.00152849 0 0"
                          diaginertia="0.000260285 0.000225381 0.000152708"/>
                <geom class="visual2" mesh="base" material="black2"/>
                <geom name="col_base" pos="0 0 0.038" type="box" group="3" contype="1" conaffinity="1" size="0.0125 0.03 0.05" rgba="1 0.423529 0.0392157 1"/>

                <site name="pinch" pos="0 0 0.145" type="sphere" group="8" material="wood2" size="0.005"/>
                <body name="right_driver" pos="0 0.0306011 0.054904">
                  <inertial mass="0.00899563" pos="2.96931e-12 0.0177547 0.00107314" quat="0.681301 0.732003 0 0"
                              diaginertia="1.72352e-06 1.60906e-06 3.22006e-07"/>
                  <joint name="right_driver_joint" class="driver"/>
                  <geom class="visual2" mesh="driver" material="gray2"/>
                  <body name="right_coupler" pos="0 0.0315 -0.0041">
                    <inertial mass="0.0140974" pos="0 0.00301209 0.0232175" quat="0.705636 -0.0455904 0.0455904 0.705636"
                    diaginertia="4.16206e-06 3.52216e-06 8.88131e-07"/>
                    <joint name="right_coupler_joint" class="coupler"/>
                    <geom class="visual2" mesh="coupler" material="black2"/>
                    <geom rgba="1 0 0 1" group="3" contype="1" conaffinity="1"  type="box" name="col_right_coupler"  size="0.00513928 0.0127509 0.0268909" pos="0 0.00301209 0.0232175" quat="0.705636 -0.0455904 0.0455904 0.705636"/>
                  </body>
                </body>
                <body name="right_spring_link" pos="0 0.0132 0.0609">
                  <inertial mass="0.0221642" pos="-8.65005e-09 0.0181624 0.0212658" quat="0.663403 -0.244737 0.244737 0.663403"
                              diaginertia="8.96853e-06 6.71733e-06 2.63931e-06"/>
                  <joint name="right_spring_link_joint" class="spring_link"/>
                  <geom class="visual2" mesh="spring_link" material="black2"/>
                  <body name="right_follower" pos="0 0.055 0.0375">
                    <inertial mass="0.0125222" pos="0 -0.011046 0.0124786" quat="1 0.1664 0 0"
                    diaginertia="2.67415e-06 2.4559e-06 6.02031e-07"/>
                    <joint name="right_follower_joint" class="follower"/>
                    <geom class="visual2" mesh="follower" material="black2"/>
                    <body name="right_pad" pos="0 -0.0189 0.01352">
                      <geom class="pad_box1" name="right_pad1" contype="1" conaffinity="1"/>
                      <geom class="pad_box2" name="right_pad2"/>
                      <inertial mass="0.0035" pos="0 -0.0025 0.0185" quat="0.707107 0 0 0.707107"
                                  diaginertia="4.73958e-07 3.64583e-07 1.23958e-07"/>
                      <geom class="visual2" mesh="pad"/>
                      <body name="right_silicone_pad">
                        <geom class="visual2" mesh="silicone_pad" material="black2"/>
                      </body>
                    </body>
                  </body>
                </body>
                <body name="left_driver" pos="0 -0.0306011 0.054904" quat="0 0 0 1">
                  <inertial mass="0.00899563" pos="0 0.0177547 0.00107314" quat="0.681301 0.732003 0 0"
                            diaginertia="1.72352e-06 1.60906e-06 3.22006e-07"/>
                    <joint name="left_driver_joint" class="driver"/>
                    <geom class="visual2" mesh="driver" material="gray2"/>
                    <body name="left_coupler" pos="0 0.0315 -0.0041">
                      <inertial mass="0.0140974" pos="0 0.00301209 0.0232175" quat="0.705636 -0.0455904 0.0455904 0.705636"
                      diaginertia="4.16206e-06 3.52216e-06 8.88131e-07"/>
                      <joint name="left_coupler_joint" class="coupler"/>
                      <geom class="visual2" mesh="coupler" material="black2"/>
                        <geom rgba="1 0 0 1"  type="box" name="col_left_coupler" group="3" contype="1" conaffinity="1" size="0.00513928 0.0127509 0.0268909" pos="0 0.00301209 0.0232175" quat="0.705636 -0.0455904 0.0455904 0.705636"/>
                    </body>
                  </body>
                  <body name="left_spring_link" pos="0 -0.0132 0.0609" quat="0 0 0 1">
                    <inertial mass="0.0221642" pos="-8.65005e-09 0.0181624 0.0212658" quat="0.663403 -0.244737 0.244737 0.663403"
                            diaginertia="8.96853e-06 6.71733e-06 2.63931e-06"/>
                    <joint name="left_spring_link_joint" class="spring_link"/>
                    <geom class="visual2" mesh="spring_link" material="black2"/>
                    <body name="left_follower" pos="0 0.055 0.0375">
                      <inertial mass="0.0125222" pos="0 -0.011046 0.0124786" quat="1 0.1664 0 0"
                      diaginertia="2.67415e-06 2.4559e-06 6.02031e-07"/>
                      <joint name="left_follower_joint" class="follower"/>
                      <geom class="visual2" mesh="follower" material="black2"/>
                      <body name="left_pad" pos="0 -0.0189 0.01352">
                        <geom class="pad_box1" name="left_pad1" contype="1" conaffinity="1"/>
                        <geom class="pad_box2" name="left_pad2"/>
                        <inertial mass="0.0035" pos="0 -0.0025 0.0185" quat="1 0 0 1"
                            diaginertia="4.73958e-07 3.64583e-07 1.23958e-07"/>
                        <geom class="visual2" mesh="pad"/>
                        <body name="left_silicone_pad">
                          <geom class="visual2" mesh="silicone_pad" material="black2"/>
                        </body>
                      </body>
                    </body>
                  </body>
                </body>
              </body>
  </worldbody>
  <contact>
      <exclude body1="base" body2="left_driver"/>
      <exclude body1="base" body2="right_driver"/>
      <exclude body1="base" body2="left_spring_link"/>
      <exclude body1="base" body2="right_spring_link"/>
      <exclude body1="right_coupler" body2="right_follower"/>
      <exclude body1="left_coupler" body2="left_follower"/>
  </contact>

  <actuator>
    <general class="2f85" name="fingers_actuator" tendon="split" forcerange="-5 5" ctrlrange="0 255"
      gainprm="0.3137255 0 0" biasprm="0 -100 -10"/>
  </actuator>


  <tendon>
    <fixed name="split">
      <joint joint="right_driver_joint" coef="0.5"/>
      <joint joint="left_driver_joint" coef="0.5"/>
    </fixed>
  </tendon>

  <equality>
    <connect anchor="0 0 0" body1="right_follower" body2="right_coupler" solimp="0.95 0.99 0.001" solref="0.005 1"/>
    <connect anchor="0 0 0" body1="left_follower" body2="left_coupler" solimp="0.95 0.99 0.001" solref="0.005 1"/>
    <joint joint1="right_driver_joint" joint2="left_driver_joint" polycoef="0 1 0 0 0" solimp="0.95 0.99 0.001"
      solref="0.005 1"/>
  </equality>

</mujoco>
